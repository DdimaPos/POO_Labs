import { LinkedList } from "../queues/linkedList";
import { ElectricStation } from "../services/electricStation";
import { GasStation } from "../services/gasStation";
import { PeopleDiner } from "../services/peopleDiner";
import { RobotDiner } from "../services/robotDiner";
import { Car } from "./car";
import { CarStation } from "./carStation";
import { Semaphore } from "./semaphore";
import { mockCars } from "../../sources/mockCars";
describe("Semaphore testing", () => {
  test("Test guiding", () => {
    var peopleDiner = new PeopleDiner();
    var robotDiner = new RobotDiner();
    var gasStation = new GasStation();
    var elStation = new ElectricStation();
    var carList = new LinkedList<Car>();
    var gasPeopleStation = new CarStation(peopleDiner, gasStation, carList);
    var elPeopleStation = new CarStation(peopleDiner, elStation, carList);
    var gasRobotsStation = new CarStation(robotDiner, gasStation, carList);
    var elRobotsStation = new CarStation(robotDiner, elStation, carList);

    var semaphore = new Semaphore(
      gasPeopleStation,
      gasRobotsStation,
      elPeopleStation,
      elRobotsStation,
    );
    
    mockCars.forEach((car: Car):void=>{
      semaphore.guideCar(car);
      return
    })
  });
});
